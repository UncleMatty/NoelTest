<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LivLuv'd Brain Health Assessment Calculator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: #f5f5f5;
            padding: 20px;
            line-height: 1.6;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .form-section {
            margin-bottom: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        
        .form-section h3 {
            color: #34495e;
            margin-bottom: 15px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            color: #555;
            margin-bottom: 5px;
            font-weight: 500;
        }
        
        input[type="text"],
        input[type="number"],
        select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }
        
        .row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .test-input {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 10px;
            align-items: center;
        }
        
        .unit {
            color: #666;
            font-size: 14px;
        }
        
        button {
            background-color: #3498db;
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            display: block;
            margin: 30px auto;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #2980b9;
        }
        
        .results {
            display: none;
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            white-space: pre-wrap;
            font-family: 'Courier New', monospace;
        }
        
        .grade {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 3px;
            font-weight: bold;
            margin-left: 5px;
        }
        
        .grade-A { background: #27ae60; color: white; }
        .grade-B { background: #3498db; color: white; }
        .grade-C { background: #f39c12; color: white; }
        .grade-D { background: #e67e22; color: white; }
        .grade-F { background: #e74c3c; color: white; }
    </style>
</head>
<body>
    <div class="container">
        <h1>LivLuv'd Brain Health Assessment Calculator</h1>
        
        <form id="assessmentForm">
            <div class="form-section">
                <h3>Patient Information</h3>
                <div class="row">
                    <div class="form-group">
                        <label for="patientName">Patient Name</label>
                        <input type="text" id="patientName" placeholder="Enter patient name" required>
                    </div>
                    <div class="form-group">
                        <label for="age">Age</label>
                        <input type="number" id="age" min="1" max="120" placeholder="Enter age" required>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group">
                        <label for="gender">Gender</label>
                        <select id="gender" required>
                            <option value="">Select gender</option>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="assessmentDate">Assessment Date</label>
                        <input type="text" id="assessmentDate" readonly>
                    </div>
                </div>
            </div>
            
            <div class="form-section">
                <h3>Mobility Tests</h3>
                <div class="form-group">
                    <label for="tugTest">TUG Test (Timed Up and Go)</label>
                    <div class="test-input">
                        <input type="number" id="tugTest" step="0.1" min="0" placeholder="Enter time">
                        <span class="unit">seconds</span>
                    </div>
                </div>
                <div class="form-group">
                    <label for="gaitSpeed">Gait Speed</label>
                    <div class="test-input">
                        <input type="number" id="gaitSpeed" step="0.1" min="0" placeholder="Enter speed">
                        <span class="unit">m/s</span>
                    </div>
                </div>
                <div class="form-group">
                    <label for="sixMinWalk">6-Minute Walk Test</label>
                    <div class="test-input">
                        <input type="number" id="sixMinWalk" min="0" placeholder="Enter distance">
                        <span class="unit">meters</span>
                    </div>
                </div>
            </div>
            
            <div class="form-section">
                <h3>Strength Tests</h3>
                <div class="form-group">
                    <label for="gripStrength">Grip Strength</label>
                    <div class="test-input">
                        <input type="number" id="gripStrength" min="0" placeholder="Enter strength">
                        <span class="unit">lbs</span>
                    </div>
                </div>
                <div class="form-group">
                    <label for="sitToStand">30-Second Sit-to-Stand</label>
                    <div class="test-input">
                        <input type="number" id="sitToStand" min="0" placeholder="Enter repetitions">
                        <span class="unit">reps</span>
                    </div>
                </div>
            </div>
            
            <div class="form-section">
                <h3>Balance Tests</h3>
                <div class="form-group">
                    <label for="singleLegBalance">Single-Leg Balance</label>
                    <div class="test-input">
                        <input type="number" id="singleLegBalance" min="0" placeholder="Enter time">
                        <span class="unit">seconds</span>
                    </div>
                </div>
            </div>
            
            <div class="form-section">
                <h3>Cognitive Tests</h3>
                <div class="form-group">
                    <label for="mocaScore">MoCA Score</label>
                    <div class="test-input">
                        <input type="number" id="mocaScore" min="0" max="30" placeholder="Enter score">
                        <span class="unit">out of 30</span>
                    </div>
                </div>
                <div class="form-group">
                    <label for="neurotrakScore">Neurotrak Assessment (Symbol/Path)</label>
                    <div class="test-input">
                        <input type="number" id="neurotrakScore" min="0" max="80" placeholder="Enter score">
                        <span class="unit">out of 80</span>
                    </div>
                </div>
            </div>
            
            <button type="submit">Calculate Assessment</button>
        </form>
        
        <div id="results" class="results"></div>
    </div>
    
    <script>
        // Set today's date
        document.getElementById('assessmentDate').value = new Date().toLocaleDateString();
        
        // Grade calculation functions
        function calculateGrade(value, thresholds) {
            if (value >= thresholds.A) return 'A';
            if (value >= thresholds.B) return 'B';
            if (value >= thresholds.C) return 'C';
            if (value >= thresholds.D) return 'D';
            return 'F';
        }
        
        function calculateTUGGrade(time) {
            // Lower time is better
            if (time <= 10) return 'A';
            if (time <= 12) return 'B';
            if (time <= 14) return 'C';
            if (time <= 16) return 'D';
            return 'F';
        }
        
        function calculateGaitSpeedGrade(speed) {
            if (speed >= 1.2) return 'A';
            if (speed >= 1.0) return 'B';
            if (speed >= 0.8) return 'C';
            if (speed >= 0.6) return 'D';
            return 'F';
        }
        
        function calculateWalkGrade(distance) {
            if (distance >= 500) return 'A';
            if (distance >= 400) return 'B';
            if (distance >= 300) return 'C';
            if (distance >= 200) return 'D';
            return 'F';
        }
        
        function calculateGripGrade(strength, gender) {
            const thresholds = gender === 'male' 
                ? { A: 85, B: 70, C: 55, D: 40 }
                : { A: 55, B: 45, C: 35, D: 25 };
            return calculateGrade(strength, thresholds);
        }
        
        function calculateSitStandGrade(reps) {
            if (reps >= 17) return 'A';
            if (reps >= 14) return 'B';
            if (reps >= 11) return 'C';
            if (reps >= 8) return 'D';
            return 'F';
        }
        
        function calculateBalanceGrade(seconds) {
            if (seconds >= 30) return 'A';
            if (seconds >= 20) return 'B';
            if (seconds >= 10) return 'C';
            if (seconds >= 5) return 'D';
            return 'F';
        }
        
        function calculateMoCAGrade(score) {
            if (score >= 26) return 'A';
            if (score >= 22) return 'B';
            if (score >= 18) return 'C';
            if (score >= 14) return 'D';
            return 'F';
        }
        
        function calculateNeurotrakGrade(score) {
            if (score >= 70) return 'A';
            if (score >= 60) return 'B';
            if (score >= 50) return 'C';
            if (score >= 40) return 'D';
            return 'F';
        }
        
        function gradeToScore(grade) {
            const scoreMap = { A: 100, B: 80, C: 60, D: 40, F: 20 };
            return scoreMap[grade];
        }
        
        document.getElementById('assessmentForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Get form values
            const patientName = document.getElementById('patientName').value;
            const age = document.getElementById('age').value;
            const gender = document.getElementById('gender').value;
            const assessmentDate = document.getElementById('assessmentDate').value;
            
            // Get test values
            const tugTest = parseFloat(document.getElementById('tugTest').value);
            const gaitSpeed = parseFloat(document.getElementById('gaitSpeed').value);
            const sixMinWalk = parseFloat(document.getElementById('sixMinWalk').value);
            const gripStrength = parseFloat(document.getElementById('gripStrength').value);
            const sitToStand = parseFloat(document.getElementById('sitToStand').value);
            const singleLegBalance = parseFloat(document.getElementById('singleLegBalance').value);
            const mocaScore = parseFloat(document.getElementById('mocaScore').value);
            const neurotrakScore = parseFloat(document.getElementById('neurotrakScore').value);
            
            // Calculate grades
            const tugGrade = calculateTUGGrade(tugTest);
            const gaitGrade = calculateGaitSpeedGrade(gaitSpeed);
            const walkGrade = calculateWalkGrade(sixMinWalk);
            const gripGrade = calculateGripGrade(gripStrength, gender);
            const sitStandGrade = calculateSitStandGrade(sitToStand);
            const balanceGrade = calculateBalanceGrade(singleLegBalance);
            const mocaGrade = calculateMoCAGrade(mocaScore);
            const neurotrakGrade = calculateNeurotrakGrade(neurotrakScore);
            
            // Calculate domain scores
            const mobilityScore = Math.round((gradeToScore(tugGrade) + gradeToScore(gaitGrade) + gradeToScore(walkGrade)) / 3);
            const strengthScore = Math.round((gradeToScore(gripGrade) + gradeToScore(sitStandGrade)) / 2);
            const balanceScore = gradeToScore(balanceGrade);
            const cognitiveScore = Math.round((gradeToScore(mocaGrade) + gradeToScore(neurotrakGrade)) / 2);
            
            // Calculate composite score
            const compositeScore = Math.round((mobilityScore + strengthScore + balanceScore + cognitiveScore) / 4);
            
            // Determine risk level
            let riskLevel;
            if (compositeScore >= 80) riskLevel = 'Low Risk';
            else if (compositeScore >= 60) riskLevel = 'Moderate Risk';
            else if (compositeScore >= 40) riskLevel = 'High Risk';
            else riskLevel = 'Very High Risk';
            
            // Generate results
            const results = `LivLuv'd Brain Health Assessment Results
Patient: ${patientName}
Age: ${age} | Gender: ${gender}
Assessment Date: ${assessmentDate}

OVERALL RESULTS:
• Composite Score: ${compositeScore}/100
• Risk Level: ${riskLevel}

DOMAIN SCORES:
• Mobility: ${mobilityScore}/100
• Strength: ${strengthScore}/100
• Balance: ${balanceScore}/100
• Cognitive: ${cognitiveScore}/100

INDIVIDUAL TEST RESULTS:
• TUG Test: ${tugTest} sec (Grade: ${tugGrade})
• Gait Speed: ${gaitSpeed} m/s (Grade: ${gaitGrade})
• 6-Min Walk: ${sixMinWalk} m (Grade: ${walkGrade})
• Grip Strength: ${gripStrength} lbs (Grade: ${gripGrade})
• Sit-to-Stand: ${sitToStand} reps (Grade: ${sitStandGrade})
• Single-Leg Balance: ${singleLegBalance} sec (Grade: ${balanceGrade})
• MoCA Score: ${mocaScore} /30 (Grade: ${mocaGrade})
• Neurotrak Assessment: ${neurotrakScore} / 80 Symbol/Path (Grade: ${neurotrakGrade})

Generated by LivLuv'd Brain Health Calculator`;
            
            // Display results
            document.getElementById('results').textContent = results;
            document.getElementById('results').style.display = 'block';
            
            // Scroll to results
            document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
        });
    </script>
</body>
</html>
